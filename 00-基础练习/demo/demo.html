<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="./jQuery3.6.1.js"></script>
<body>
<div>
  <form>
    <label for="search">
      <span>请搜索:</span>
    </label>
    <input id="search" type="text" >
    <input id="conditionBut" type="button" value="查询">
  </form>
    <ul id="conditionItem"></ul>
</div>
</body>
<script>
    $(function () {
        //隐藏下拉框
        $("#conditionItem").hide();
        //input输入框的值
        let item='';
        //下拉框选中的值
        let selectValue='';
        let conditionItem=['A-你','A-好','B-啊','B-他','C-五','C-六'];
        //遍历列表里的条件添加到下拉框中
        for (let i = 0; i < conditionItem.length; i++) {
            $("#conditionItem").append("<li style='list-style: none' id="+conditionItem[i]+">"+conditionItem[i]+"</li>");
        }
        //鼠标移动到输入框，显示下拉框
        $("#search").mouseover(function (){
            $("#conditionItem").show();
        });
        //鼠标移动出下拉框，隐藏下拉框
        $("#conditionItem").mouseleave(function (){
            $("#conditionItem").hide();
        });
        //点击选中的下拉框的值，放入到输入框中
        $("ul li").click(function () {
            //对下拉框的值进行追加
            if(item!==''){
                if(item.lastIndexOf(";")!==(item.length-1)){
                    item +=';';
                }
            }
            selectValue=$(this).text();
            item += selectValue;
            $("#search").val(item);

            $("#conditionItem").hide();
        });

        //如果输入框改变
        $("#search").change(function () {


             item=$("#search").val();
             let items = item.split(";");
             item='';

             //如果输入的值不包含在数组里就搜索。
            if(!conditionItem.includes(items[items.length])){
                //TODO
            }

            for (let i = 0; i < items.length; i++) {
               if(conditionItem.includes(items[i])){
                   if(item!==''){
                       item +=';';
                   }
                  item += items[i];
               }
            }
            $("#search").val(item);
        });

    });
</script>
</html>